### Тезисы
- Время жизни статичных полей = времени жизни всего приложения
- Шаблоны проектировани
  - Порождающие - гибкое создание объектов/группы объектов
  - Структурные - различные способы построения связей м/ду объектами
  - Поведенческие - эффективная коммуникация м/ду объектами
- Название таблицы в DB - существительное в единственном числе.
  Рекомендуется использовать только строчные (маленькие) буквы (это касается и наименований столбцов).
  В названии таблиц и столбцов допускаются только: буквы, цифры и `_`
  Шаблон имени для PK: `tablename_id`.
- SQL не является регистро-зависимым языком, но рекомендуется писать ключевые слова прописными (большими), а наименования строчными (маленькими) буквами.
- 

### Применение фасада
> Абстракцию ради только абстракции нет смысла делать. Как и вводить архитектурный слой, в котором не будет смысла.

Архитектура:
Входная точка (Controller, Kafka listener и т.д.) <font style="color:red">-></font> Facade <font style="color:red">-></font> Service.

Если в контроллере необходимо вызвать только бизнес сервис, то вводить для этого слой фасада излишне. При этом, дополнительная логика по маппингу (преобразованию) сущностей, помимо вызова бизнес сервиса, допустима.
Фасад необходимо вводить, когда контроллер излишне наполнен бизнес-логикой.

<font style="color:green">It's OK :</font>
```java
Controller

@Override  
public ResponseEntity<Session> getSession(MarketInstrumentKey instrumentKey,
										  OffsetDateTime date) {  
    return mapper.fromOpenApi(instrumentKey)  
            .map(key -> ResponseEntity.ok(mapper.toOpenApi(
                                          calendarService.getSession(key))))  
            .orElseGet(() -> ResponseEntity.notFound().build());  
}
```

### API
- В спецификации OpenAPI в `example` необходимо писать дату без `""`:
  `example: 2024-02-22T10:45:27`
- При построении API, request и response лучше делать объектами сразу, даже если нам нужно передавать одно поле. Это необходимо делать для обеспечения обратной совместимости с нашим API. Т.к. мы всегда будем принимать/отдавать один и тот же объект, а вот сам объект мы сможем расширять уже как захотим в дальнейшем с минимальными правками.

### Логирование
Конфигурация sfl4f в Spring boot осуществляется через параметр `logging`.
Например, установка для root логера уровня логирования:
```properties
logging.level.root=DEBUG
```

### Kafka
- чтобы вычитать все сообщения из топика с самого начала, можно просто изменить id consumer

### PostgreSQL
- При подключении DB в IDEA важно указывать не только: `host`, `port`, `username`, `password`. Но еще и `database`:
  ![[Pasted image 20240520191537.png]]
- 